<?xml version="1.0" encoding="UTF-8"?>
<testcase xmlns="http://xlt.xceptance.com/xlt-script/2" version="6">
  <tags>product,pdp,quickview,qv,functionality,variations</tags>
  <description>Verifize if the size of a select box can be changed after selecting a color, this is a test for a specific bug


# Setup
Open the site and remove cookies

#  Scope
Validates the change of the product numbers and enabling of the add2cart button when changing color and size, checks also if the availability changes

- open PDP
- change size in select box
- select a color
- try to change size in select box</description>
  <codecomment># Setup - Start Session</codecomment>
  <module name="modules.helper.FHelper_Session_flowToStartSession"/>
  <codecomment>Search for specific product having variant dropdown and color</codecomment>
  <action name="Search"/>
  <module name="modules.pages.search.MSearch_enterTextAndSubmit">
    <parameter name="searchText" value="${variationProductWithDropdownAndColorName}"/>
  </module>
  <codecomment>Validate preconditions ...</codecomment>
  <module name="modules.pages.product.VProduct_validateProductVariations"/>
  <module name="modules.pages.product.VProduct_validateColorIsNotSelected"/>
  <module name="modules.pages.product.VProduct_validateVariantDropdown"/>
  <module name="modules.pages.product.VProduct_validateAdd2CartButtonIsDisabled"/>
  <module name="modules.pages.product.VProduct_validateAvailabilityVariationIsNotSelected"/>
  <codecomment># Scope</codecomment>
  <codecomment>## Retest a known issue</codecomment>
  <action name="SelectVariantDropdown"/>
  <module name="modules.pages.product.MProduct_selectVariantDropdownByLabel">
    <parameter name="labelName" value="${variationProductWithDropdownAndColorLabel1}"/>
  </module>
  <module name="modules.pages.product.VProduct_validateAdd2CartButtonIsDisabled"/>
  <action name="SelectColor"/>
  <module name="modules.pages.product.MProduct_clickColorByPosition">
    <parameter name="MProductColorPosition" value="1"/>
  </module>
  <module name="modules.pages.product.VProduct_validateAdd2CartButtonIsEnabled"/>
  <action name="SelectVariantDropdown"/>
  <module name="modules.pages.product.MProduct_selectVariantDropdownByLabel">
    <parameter name="labelName" value="${variationProductWithDropdownAndColorLabel2}"/>
  </module>
</testcase>
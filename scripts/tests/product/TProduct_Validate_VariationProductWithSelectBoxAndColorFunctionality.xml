<?xml version="1.0" encoding="UTF-8"?>
<testcase xmlns="http://xlt.xceptance.com/xlt-script/2" version="6">
  <tags>product,pdp,quickview,qv,functionality,variations</tags>
  <description>Verifize if the size of a select box can be changed after selecting a color, this is a test for a specific bug


# Setup
Open the site and remove cookies

#  Scope
Validates the change of the product numbers and enabling of the add2cart button when changing color and size, checks also if the availability changes

- open PDP
- change size in select box
- select a color
- try to change size in select box</description>
  <codecomment># Setup - Start Session</codecomment>
  <module name="modules.helper.FHelper_Session_flowToStartSession"/>
  <codecomment>Search for specific product witrh a select box and color</codecomment>
  <action name="Search"/>
  <module name="modules.pages.search.MSearch_enterTextAndSubmit">
    <parameter name="searchText" value="${variationProductWithDropdownAndColorName}"/>
  </module>
  <module name="modules.pages.product.VProduct_validateProductVariations"/>
  <module name="modules.pages.product.VProduct_validateColorIsNotSelected"/>
  <module name="modules.pages.product.VProduct_validateVariantDropdown"/>
  <module name="modules.pages.product.VProduct_validateAdd2CartButtonIsDisabled"/>
  <command name="assertElementPresent" target="css=#product-content .product-price"/>
  <command name="assertText" target="css=#product-content form fieldset .product-add-to-cart .availability-web .availability-novariation" value="Select Styles for Availability"/>
  <codecomment># Scope</codecomment>
  <codecomment>--------------------------------</codecomment>
  <codecomment>## Functional Product Test
Caution this is a testcase design for a special bug

- Open PDP for variation product with select box and color
- select a memory size
- select a color
- try to select a  nother memory size</codecomment>
  <codecomment>--------------------------------</codecomment>
  <codecomment>Start SelectboxTest</codecomment>
  <action name="SelectVariantDropdown"/>
  <module name="modules.pages.product.MProduct_selectVariantDropdownByLabel">
    <parameter name="labelName" value="${variationProductWithDropdownAndColorLabel1}"/>
  </module>
  <module name="modules.pages.product.VProduct_validateAdd2CartButtonIsDisabled"/>
  <action name="SelectColor"/>
  <module name="modules.pages.product.MProduct_clickColorByPosition">
    <parameter name="MProductColorPosition" value="1"/>
  </module>
  <module name="modules.pages.product.VProduct_validateAdd2CartButtonIsEnabled"/>
  <action name="SelectVariantDropdown"/>
  <module name="modules.pages.product.MProduct_selectVariantDropdownByLabel">
    <parameter name="labelName" value="${variationProductWithDropdownAndColorLabel2}"/>
  </module>
</testcase>
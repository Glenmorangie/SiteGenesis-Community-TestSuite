<?xml version="1.0" encoding="UTF-8"?>
<testcase xmlns="http://xlt.xceptance.com/xlt-script/2" version="6">
  <tags>product,pdp,qv</tags>
  <description>Verifies the structure of quickview (QV) and product details pages (PDP) for standard products

# Setup
Open the site and remove cookies

#  Scope
Verify both ways of displaying product details.

- verify structure of the QV
- go from QV to PDP
- verify stucture of PDP
- check if product name, price, and product number are the same on both 
- search for product name and verify PDP again</description>
  <codecomment># Setup - Start Session</codecomment>
  <module name="modules.helper.FHelper_Session_flowToStartSession"/>
  <codecomment># Navigate to Electronics/Gaming</codecomment>
  <action name="CategoryLevel1"/>
  <module name="modules.global.headerfooternav.MGlobal_Nav_clickCategoryLevel1ByName">
    <parameter name="nameLevel1" value="Electronics"/>
  </module>
  <action name="CategoryLevel2"/>
  <module name="modules.global.headerfooternav.MGlobal_Nav_clickCategoryLevel2ByName">
    <parameter name="nameLevel2" value="Gaming"/>
  </module>
  <codecomment># Scope</codecomment>
  <codecomment>--------------------------------</codecomment>
  <codecomment>## Plain Product

- Validate Quickview for plain product
- Validate PDP for plain product
- Check if product name, price, and product number are the same</codecomment>
  <codecomment>--------------------------------</codecomment>
  <codecomment>Hover over Product and click on quick view buttom</codecomment>
  <action name="PlainProductQuickview"/>
  <module name="modules.pages.catalog.MCatalog_clickOnQVviaProductPosition">
    <parameter name="position" value="1"/>
  </module>
  <codecomment>Verify quick view page</codecomment>
  <module name="modules.pages.productquickview.VProductQV_validateQVHeader">
    <parameter name="prevButtonState" value="[disabled='disabled']"/>
    <parameter name="nextButtonState" value=":not([disabled])"/>
  </module>
  <module name="modules.pages.product.VProduct_verifyPDPMainForm"/>
  <module name="modules.pages.product.VProduct_verifyProductActionMenu"/>
  <codecomment>Store product informations to check them later</codecomment>
  <module name="modules.pages.product.MProduct_storeBasicDetails">
    <parameter name="productName_varName" value="productName"/>
    <parameter name="productNumber_varName" value="productNumber"/>
    <parameter name="productPriceSales_varName" value="productPrice"/>
    <parameter name="productQuantity_varName" value="productQuantity"/>
  </module>
  <action name="OpenPDPandVerifyStructure"/>
  <codecomment>Goto PDP</codecomment>
  <module name="modules.pages.productquickview.MProductQV_gotoPDPfromQV"/>
  <codecomment>Verify product detail page</codecomment>
  <module name="modules.global.headerfooternav.VNavigation_verifyBreadcrumb">
    <parameter name="productName" value="${productName}"/>
  </module>
  <module name="modules.pages.product.VProduct_verifyPDPMainForm"/>
  <module name="modules.pages.product.VProduct_verifyProductActionMenu"/>
  <module name="modules.pages.productdetailpage.VProduct_verifyPDPonlyObjects"/>
  <codecomment>Check are the stored values form QV the same on PDP</codecomment>
  <module name="modules.pages.product.VProduct_verifyBasicDetails">
    <parameter name="productName" value="${productName}"/>
    <parameter name="productNumber" value="${productNumber}"/>
    <parameter name="productPrice" value="${productPrice}"/>
    <parameter name="productQuantity" value="${productQuantity}"/>
  </module>
  <codecomment>Go back to Homepage and search for product name</codecomment>
  <action name="GoBackToHompae"/>
  <module name="modules.global.headerfooternav.MGlobal_Header_clickGoToHomepageViaLogo"/>
  <action name="SearchProductandVerifyPDP"/>
  <module name="modules.pages.search.MSearch_enterTextAndSubmit">
    <parameter name="searchText" value="${productName}"/>
  </module>
  <module name="modules.global.headerfooternav.VNavigation_verifyBreadcrumb">
    <parameter name="productName" value="${productName}"/>
  </module>
  <module name="modules.pages.product.VProduct_verifyPDPMainForm"/>
  <codecomment>Check are the stored values form QV the same on PDP</codecomment>
  <module name="modules.pages.product.VProduct_verifyBasicDetails">
    <parameter name="productName" value="${productName}"/>
    <parameter name="productNumber" value="${productNumber}"/>
    <parameter name="productPrice" value="${productPrice}"/>
    <parameter name="productQuantity" value="${productQuantity}"/>
  </module>
  <codecomment># Teardown

- End session</codecomment>
</testcase>
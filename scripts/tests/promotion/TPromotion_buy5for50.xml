<?xml version="1.0" encoding="UTF-8"?>
<testcase xmlns="http://xlt.xceptance.com/xlt-script/2" version="6">
  <codecomment># Setup

- Start Session
- Add option product to cart
- Go to cart
- Validate no option selected</codecomment>
  <module name="modules.helper.FHelper_Session_flowToStartSession"/>
  <codecomment>Add promotion product to cart</codecomment>
  <module name="modules.pages.search.FSearch_flowToAddProductToCart">
    <parameter name="cartRow" value="1"/>
    <parameter name="productNumber" value="${productNumber}"/>
    <parameter name="productQuantity" value="${productQuantity}"/>
    <parameter name="productName_varName" value="productName_varDynamic"/>
    <parameter name="productNumber_varName" value="productNumber_varDynamic"/>
    <parameter name="productQuantity_varName" value="productQuantity_varDynamic"/>
    <parameter name="productPriceSales_varName" value="productPriceSales_varDynamic"/>
    <parameter name="productPriceTotal_varName" value="productPriceTotal_varDynamic"/>
  </module>
  <codecomment>Validate that the promotion price is not shown</codecomment>
  <module name="modules.pages.cart.TCart_validateNoPromoIsShown">
    <parameter name="row" value="1"/>
  </module>
  <codecomment># Scope</codecomment>
  <codecomment>Change Quantitiy so that Promotion will be shown</codecomment>
  <action name="updateQuantity"/>
  <module name="modules.pages.cart.MCart_Row_enterUpdateProductQuantity">
    <parameter name="row" value="1"/>
    <parameter name="productQuantity" value="5"/>
  </module>
  <module name="modules.pages.cart.TCart_validateSalesPromotion">
    <parameter name="row" value="1"/>
    <parameter name="promoName" value="Buy5for50"/>
    <parameter name="promoPrice" value="$50.00"/>
  </module>
  <action name="updateQuantity"/>
  <module name="modules.pages.cart.MCart_Row_enterUpdateProductQuantity">
    <parameter name="row" value="1"/>
    <parameter name="productQuantity" value="6"/>
  </module>
  <module name="modules.pages.cart.TCart_validateSalesPromotion">
    <parameter name="row" value="1"/>
    <parameter name="promoName" value="Buy5for50"/>
    <parameter name="promoPrice" value="$50.00"/>
  </module>
  <action name="updateQuantity"/>
  <module name="modules.pages.cart.MCart_Row_enterUpdateProductQuantity">
    <parameter name="row" value="1"/>
    <parameter name="productQuantity" value="10"/>
  </module>
  <module name="modules.pages.cart.TCart_validateSalesPromotion">
    <parameter name="row" value="1"/>
    <parameter name="promoName" value="Buy5for50"/>
    <parameter name="promoPrice" value="$50.00"/>
  </module>
  <action name="updateQuantity"/>
  <module name="modules.pages.cart.MCart_Row_enterUpdateProductQuantity">
    <parameter name="row" value="1"/>
    <parameter name="productQuantity" value="4"/>
  </module>
  <module name="modules.pages.cart.TCart_validateNoPromoIsShown">
    <parameter name="row" value="1"/>
  </module>
</testcase>